{"payload":{"allShortcutsEnabled":false,"fileTree":{"utils":{"items":[{"name":"dataset_paths.json","path":"utils/dataset_paths.json","contentType":"file"},{"name":"metrics.py","path":"utils/metrics.py","contentType":"file"},{"name":"mlqa_evaluate.py","path":"utils/mlqa_evaluate.py","contentType":"file"},{"name":"process.py","path":"utils/process.py","contentType":"file"},{"name":"roberta_with_sideblock.py","path":"utils/roberta_with_sideblock.py","contentType":"file"},{"name":"sam.py","path":"utils/sam.py","contentType":"file"},{"name":"squad_evaluate.py","path":"utils/squad_evaluate.py","contentType":"file"}],"totalCount":7},"":{"items":[{"name":"utils","path":"utils","contentType":"directory"},{"name":"AntiCF.py","path":"AntiCF.py","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"baselines.py","path":"baselines.py","contentType":"file"}],"totalCount":5}},"fileTreeProcessingTime":3.109848,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":706365581,"defaultBranch":"main","name":"Anti-CF","ownerLogin":"yisunlp","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2023-10-17T20:01:29.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/123295877?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1697572920.0","canEdit":false,"refType":"branch","currentOid":"b6dbe35fcdc0e11a53f6cb3d43b47953c9608f72"},"path":"utils/squad_evaluate.py","currentUser":null,"blob":{"rawLines":["# coding=utf-8\r","# Based on the SQuAD evaluation script from:\r","# https://github.com/allenai/bi-att-flow/blob/master/squad/evaluate-v1.1.py\r","# Licensed under the Apache License, Version 2.0 (the \"License\");\r","# you may not use this file except in compliance with the License.\r","# You may obtain a copy of the License at\r","#\r","#     http://www.apache.org/licenses/LICENSE-2.0\r","#\r","# Unless required by applicable law or agreed to in writing, software\r","# distributed under the License is distributed on an \"AS IS\" BASIS,\r","# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r","# See the License for the specific language governing permissions and\r","# limitations under the License.\r","# https://github.com/allenai/bi-att-flow/blob/master/squad/evaluate-v1.1.py\r","\"\"\" Official evaluation script for v1.1 of the SQuAD dataset. \"\"\"\r","from __future__ import print_function\r","from collections import Counter\r","import string\r","import re\r","import argparse\r","import json\r","import sys\r","\r","\r","def normalize_answer(s):\r","    \"\"\"Lower text and remove punctuation, articles and extra whitespace.\"\"\"\r","    def remove_articles(text):\r","        return re.sub(r'\\b(a|an|the)\\b', ' ', text)\r","\r","    def white_space_fix(text):\r","        return ' '.join(text.split())\r","\r","    def remove_punc(text):\r","        exclude = set(string.punctuation)\r","        return ''.join(ch for ch in text if ch not in exclude)\r","\r","    def lower(text):\r","        return text.lower()\r","\r","    return white_space_fix(remove_articles(remove_punc(lower(s))))\r","\r","\r","def f1_score(prediction, ground_truth):\r","    prediction_tokens = normalize_answer(prediction).split()\r","    ground_truth_tokens = normalize_answer(ground_truth).split()\r","    common = Counter(prediction_tokens) & Counter(ground_truth_tokens)\r","    num_same = sum(common.values())\r","    if num_same == 0:\r","        return 0\r","    precision = 1.0 * num_same / len(prediction_tokens)\r","    recall = 1.0 * num_same / len(ground_truth_tokens)\r","    f1 = (2 * precision * recall) / (precision + recall)\r","    return f1\r","\r","\r","def exact_match_score(prediction, ground_truth):\r","    return (normalize_answer(prediction) == normalize_answer(ground_truth))\r","\r","\r","def metric_max_over_ground_truths(metric_fn, prediction, ground_truths):\r","    scores_for_ground_truths = []\r","    for ground_truth in ground_truths:\r","        score = metric_fn(prediction, ground_truth)\r","        scores_for_ground_truths.append(score)\r","    return max(scores_for_ground_truths)\r","\r","\r","def evaluate_squad(dataset, predictions):\r","    f1 = exact_match = total = 0\r","    for article in dataset:\r","        for paragraph in article['paragraphs']:\r","            for qa in paragraph['qas']:\r","                total += 1\r","                if qa['id'] not in predictions:\r","                    message = 'Unanswered question ' + qa['id'] + \\\r","                              ' will receive score 0.'\r","                    print(message, file=sys.stderr)\r","                    continue\r","                ground_truths = list(map(lambda x: x['text'], qa['answers']))\r","                prediction = predictions[qa['id']]\r","                exact_match += metric_max_over_ground_truths(\r","                    exact_match_score, prediction, ground_truths)\r","                f1 += metric_max_over_ground_truths(\r","                    f1_score, prediction, ground_truths)\r","\r","    exact_match = 100.0 * exact_match / total\r","    f1 = 100.0 * f1 / total\r","\r","    return {'exact_match': exact_match, 'f1': f1}"],"stylingDirectives":[[{"start":0,"end":15,"cssClass":"pl-c"}],[{"start":0,"end":45,"cssClass":"pl-c"}],[{"start":0,"end":76,"cssClass":"pl-c"}],[{"start":0,"end":66,"cssClass":"pl-c"}],[{"start":0,"end":67,"cssClass":"pl-c"}],[{"start":0,"end":42,"cssClass":"pl-c"}],[{"start":0,"end":2,"cssClass":"pl-c"}],[{"start":0,"end":49,"cssClass":"pl-c"}],[{"start":0,"end":2,"cssClass":"pl-c"}],[{"start":0,"end":70,"cssClass":"pl-c"}],[{"start":0,"end":68,"cssClass":"pl-c"}],[{"start":0,"end":75,"cssClass":"pl-c"}],[{"start":0,"end":70,"cssClass":"pl-c"}],[{"start":0,"end":33,"cssClass":"pl-c"}],[{"start":0,"end":76,"cssClass":"pl-c"}],[{"start":0,"end":65,"cssClass":"pl-s"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":16,"end":22,"cssClass":"pl-k"},{"start":23,"end":37,"cssClass":"pl-s1"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":16,"cssClass":"pl-s1"},{"start":17,"end":23,"cssClass":"pl-k"},{"start":24,"end":31,"cssClass":"pl-v"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":13,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":9,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":15,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":11,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":10,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":20,"cssClass":"pl-en"},{"start":21,"end":22,"cssClass":"pl-s1"}],[{"start":4,"end":75,"cssClass":"pl-s"}],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":23,"cssClass":"pl-en"},{"start":24,"end":28,"cssClass":"pl-s1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":17,"cssClass":"pl-s1"},{"start":18,"end":21,"cssClass":"pl-en"},{"start":22,"end":39,"cssClass":"pl-s"},{"start":41,"end":44,"cssClass":"pl-s"},{"start":46,"end":50,"cssClass":"pl-s1"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":23,"cssClass":"pl-en"},{"start":24,"end":28,"cssClass":"pl-s1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":18,"cssClass":"pl-s"},{"start":19,"end":23,"cssClass":"pl-en"},{"start":24,"end":28,"cssClass":"pl-s1"},{"start":29,"end":34,"cssClass":"pl-en"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":19,"cssClass":"pl-en"},{"start":20,"end":24,"cssClass":"pl-s1"}],[{"start":8,"end":15,"cssClass":"pl-s1"},{"start":16,"end":17,"cssClass":"pl-c1"},{"start":18,"end":21,"cssClass":"pl-en"},{"start":22,"end":28,"cssClass":"pl-s1"},{"start":29,"end":40,"cssClass":"pl-s1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":17,"cssClass":"pl-s"},{"start":18,"end":22,"cssClass":"pl-en"},{"start":23,"end":25,"cssClass":"pl-s1"},{"start":26,"end":29,"cssClass":"pl-k"},{"start":30,"end":32,"cssClass":"pl-s1"},{"start":33,"end":35,"cssClass":"pl-c1"},{"start":36,"end":40,"cssClass":"pl-s1"},{"start":41,"end":43,"cssClass":"pl-k"},{"start":44,"end":46,"cssClass":"pl-s1"},{"start":47,"end":50,"cssClass":"pl-c1"},{"start":51,"end":53,"cssClass":"pl-c1"},{"start":54,"end":61,"cssClass":"pl-s1"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":13,"cssClass":"pl-en"},{"start":14,"end":18,"cssClass":"pl-s1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":19,"cssClass":"pl-s1"},{"start":20,"end":25,"cssClass":"pl-en"}],[],[{"start":4,"end":10,"cssClass":"pl-k"},{"start":11,"end":26,"cssClass":"pl-en"},{"start":27,"end":42,"cssClass":"pl-en"},{"start":43,"end":54,"cssClass":"pl-en"},{"start":55,"end":60,"cssClass":"pl-en"},{"start":61,"end":62,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":12,"cssClass":"pl-en"},{"start":13,"end":23,"cssClass":"pl-s1"},{"start":25,"end":37,"cssClass":"pl-s1"}],[{"start":4,"end":21,"cssClass":"pl-s1"},{"start":22,"end":23,"cssClass":"pl-c1"},{"start":24,"end":40,"cssClass":"pl-en"},{"start":41,"end":51,"cssClass":"pl-s1"},{"start":53,"end":58,"cssClass":"pl-en"}],[{"start":4,"end":23,"cssClass":"pl-s1"},{"start":24,"end":25,"cssClass":"pl-c1"},{"start":26,"end":42,"cssClass":"pl-en"},{"start":43,"end":55,"cssClass":"pl-s1"},{"start":57,"end":62,"cssClass":"pl-en"}],[{"start":4,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":20,"cssClass":"pl-v"},{"start":21,"end":38,"cssClass":"pl-s1"},{"start":40,"end":41,"cssClass":"pl-c1"},{"start":42,"end":49,"cssClass":"pl-v"},{"start":50,"end":69,"cssClass":"pl-s1"}],[{"start":4,"end":12,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":15,"end":18,"cssClass":"pl-en"},{"start":19,"end":25,"cssClass":"pl-s1"},{"start":26,"end":32,"cssClass":"pl-en"}],[{"start":4,"end":6,"cssClass":"pl-k"},{"start":7,"end":15,"cssClass":"pl-s1"},{"start":16,"end":18,"cssClass":"pl-c1"},{"start":19,"end":20,"cssClass":"pl-c1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":16,"cssClass":"pl-c1"}],[{"start":4,"end":13,"cssClass":"pl-s1"},{"start":14,"end":15,"cssClass":"pl-c1"},{"start":16,"end":19,"cssClass":"pl-c1"},{"start":20,"end":21,"cssClass":"pl-c1"},{"start":22,"end":30,"cssClass":"pl-s1"},{"start":31,"end":32,"cssClass":"pl-c1"},{"start":33,"end":36,"cssClass":"pl-en"},{"start":37,"end":54,"cssClass":"pl-s1"}],[{"start":4,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":16,"cssClass":"pl-c1"},{"start":17,"end":18,"cssClass":"pl-c1"},{"start":19,"end":27,"cssClass":"pl-s1"},{"start":28,"end":29,"cssClass":"pl-c1"},{"start":30,"end":33,"cssClass":"pl-en"},{"start":34,"end":53,"cssClass":"pl-s1"}],[{"start":4,"end":6,"cssClass":"pl-s1"},{"start":7,"end":8,"cssClass":"pl-c1"},{"start":10,"end":11,"cssClass":"pl-c1"},{"start":12,"end":13,"cssClass":"pl-c1"},{"start":14,"end":23,"cssClass":"pl-s1"},{"start":24,"end":25,"cssClass":"pl-c1"},{"start":26,"end":32,"cssClass":"pl-s1"},{"start":34,"end":35,"cssClass":"pl-c1"},{"start":37,"end":46,"cssClass":"pl-s1"},{"start":47,"end":48,"cssClass":"pl-c1"},{"start":49,"end":55,"cssClass":"pl-s1"}],[{"start":4,"end":10,"cssClass":"pl-k"},{"start":11,"end":13,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":21,"cssClass":"pl-en"},{"start":22,"end":32,"cssClass":"pl-s1"},{"start":34,"end":46,"cssClass":"pl-s1"}],[{"start":4,"end":10,"cssClass":"pl-k"},{"start":12,"end":28,"cssClass":"pl-en"},{"start":29,"end":39,"cssClass":"pl-s1"},{"start":41,"end":43,"cssClass":"pl-c1"},{"start":44,"end":60,"cssClass":"pl-en"},{"start":61,"end":73,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":33,"cssClass":"pl-en"},{"start":34,"end":43,"cssClass":"pl-s1"},{"start":45,"end":55,"cssClass":"pl-s1"},{"start":57,"end":70,"cssClass":"pl-s1"}],[{"start":4,"end":28,"cssClass":"pl-s1"},{"start":29,"end":30,"cssClass":"pl-c1"}],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":20,"cssClass":"pl-s1"},{"start":21,"end":23,"cssClass":"pl-c1"},{"start":24,"end":37,"cssClass":"pl-s1"}],[{"start":8,"end":13,"cssClass":"pl-s1"},{"start":14,"end":15,"cssClass":"pl-c1"},{"start":16,"end":25,"cssClass":"pl-en"},{"start":26,"end":36,"cssClass":"pl-s1"},{"start":38,"end":50,"cssClass":"pl-s1"}],[{"start":8,"end":32,"cssClass":"pl-s1"},{"start":33,"end":39,"cssClass":"pl-en"},{"start":40,"end":45,"cssClass":"pl-s1"}],[{"start":4,"end":10,"cssClass":"pl-k"},{"start":11,"end":14,"cssClass":"pl-en"},{"start":15,"end":39,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":18,"cssClass":"pl-en"},{"start":19,"end":26,"cssClass":"pl-s1"},{"start":28,"end":39,"cssClass":"pl-s1"}],[{"start":4,"end":6,"cssClass":"pl-s1"},{"start":7,"end":8,"cssClass":"pl-c1"},{"start":9,"end":20,"cssClass":"pl-s1"},{"start":21,"end":22,"cssClass":"pl-c1"},{"start":23,"end":28,"cssClass":"pl-s1"},{"start":29,"end":30,"cssClass":"pl-c1"},{"start":31,"end":32,"cssClass":"pl-c1"}],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":15,"cssClass":"pl-s1"},{"start":16,"end":18,"cssClass":"pl-c1"},{"start":19,"end":26,"cssClass":"pl-s1"}],[{"start":8,"end":11,"cssClass":"pl-k"},{"start":12,"end":21,"cssClass":"pl-s1"},{"start":22,"end":24,"cssClass":"pl-c1"},{"start":25,"end":32,"cssClass":"pl-s1"},{"start":33,"end":45,"cssClass":"pl-s"}],[{"start":12,"end":15,"cssClass":"pl-k"},{"start":16,"end":18,"cssClass":"pl-s1"},{"start":19,"end":21,"cssClass":"pl-c1"},{"start":22,"end":31,"cssClass":"pl-s1"},{"start":32,"end":37,"cssClass":"pl-s"}],[{"start":16,"end":21,"cssClass":"pl-s1"},{"start":22,"end":24,"cssClass":"pl-c1"},{"start":25,"end":26,"cssClass":"pl-c1"}],[{"start":16,"end":18,"cssClass":"pl-k"},{"start":19,"end":21,"cssClass":"pl-s1"},{"start":22,"end":26,"cssClass":"pl-s"},{"start":28,"end":31,"cssClass":"pl-c1"},{"start":32,"end":34,"cssClass":"pl-c1"},{"start":35,"end":46,"cssClass":"pl-s1"}],[{"start":20,"end":27,"cssClass":"pl-s1"},{"start":28,"end":29,"cssClass":"pl-c1"},{"start":30,"end":52,"cssClass":"pl-s"},{"start":53,"end":54,"cssClass":"pl-c1"},{"start":55,"end":57,"cssClass":"pl-s1"},{"start":58,"end":62,"cssClass":"pl-s"},{"start":64,"end":65,"cssClass":"pl-c1"}],[{"start":30,"end":54,"cssClass":"pl-s"}],[{"start":20,"end":25,"cssClass":"pl-en"},{"start":26,"end":33,"cssClass":"pl-s1"},{"start":35,"end":39,"cssClass":"pl-s1"},{"start":39,"end":40,"cssClass":"pl-c1"},{"start":40,"end":43,"cssClass":"pl-s1"},{"start":44,"end":50,"cssClass":"pl-s1"}],[{"start":20,"end":28,"cssClass":"pl-k"}],[{"start":16,"end":29,"cssClass":"pl-s1"},{"start":30,"end":31,"cssClass":"pl-c1"},{"start":32,"end":36,"cssClass":"pl-en"},{"start":37,"end":40,"cssClass":"pl-en"},{"start":41,"end":47,"cssClass":"pl-k"},{"start":48,"end":49,"cssClass":"pl-s1"},{"start":51,"end":52,"cssClass":"pl-s1"},{"start":53,"end":59,"cssClass":"pl-s"},{"start":62,"end":64,"cssClass":"pl-s1"},{"start":65,"end":74,"cssClass":"pl-s"}],[{"start":16,"end":26,"cssClass":"pl-s1"},{"start":27,"end":28,"cssClass":"pl-c1"},{"start":29,"end":40,"cssClass":"pl-s1"},{"start":41,"end":43,"cssClass":"pl-s1"},{"start":44,"end":48,"cssClass":"pl-s"}],[{"start":16,"end":27,"cssClass":"pl-s1"},{"start":28,"end":30,"cssClass":"pl-c1"},{"start":31,"end":60,"cssClass":"pl-en"}],[{"start":20,"end":37,"cssClass":"pl-s1"},{"start":39,"end":49,"cssClass":"pl-s1"},{"start":51,"end":64,"cssClass":"pl-s1"}],[{"start":16,"end":18,"cssClass":"pl-s1"},{"start":19,"end":21,"cssClass":"pl-c1"},{"start":22,"end":51,"cssClass":"pl-en"}],[{"start":20,"end":28,"cssClass":"pl-s1"},{"start":30,"end":40,"cssClass":"pl-s1"},{"start":42,"end":55,"cssClass":"pl-s1"}],[],[{"start":4,"end":15,"cssClass":"pl-s1"},{"start":16,"end":17,"cssClass":"pl-c1"},{"start":18,"end":23,"cssClass":"pl-c1"},{"start":24,"end":25,"cssClass":"pl-c1"},{"start":26,"end":37,"cssClass":"pl-s1"},{"start":38,"end":39,"cssClass":"pl-c1"},{"start":40,"end":45,"cssClass":"pl-s1"}],[{"start":4,"end":6,"cssClass":"pl-s1"},{"start":7,"end":8,"cssClass":"pl-c1"},{"start":9,"end":14,"cssClass":"pl-c1"},{"start":15,"end":16,"cssClass":"pl-c1"},{"start":17,"end":19,"cssClass":"pl-s1"},{"start":20,"end":21,"cssClass":"pl-c1"},{"start":22,"end":27,"cssClass":"pl-s1"}],[],[{"start":4,"end":10,"cssClass":"pl-k"},{"start":12,"end":25,"cssClass":"pl-s"},{"start":27,"end":38,"cssClass":"pl-s1"},{"start":40,"end":44,"cssClass":"pl-s"},{"start":46,"end":48,"cssClass":"pl-s1"}]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/yisunlp/Anti-CF/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/yisunlp/Anti-CF/security/dependabot","repoSecurityAndAnalysisPath":"/yisunlp/Anti-CF/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"squad_evaluate.py","displayUrl":"https://github.com/yisunlp/Anti-CF/blob/main/utils/squad_evaluate.py?raw=true","headerInfo":{"blobSize":"3.35 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"3c25801","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fyisunlp%2FAnti-CF%2Fblob%2Fmain%2Futils%2Fsquad_evaluate.py","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"90","truncatedSloc":"74"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Python","languageID":303,"large":false,"loggedIn":false,"newDiscussionPath":"/yisunlp/Anti-CF/discussions/new","newIssuePath":"/yisunlp/Anti-CF/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/yisunlp/Anti-CF/blob/main/utils/squad_evaluate.py","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/yisunlp/Anti-CF/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/yisunlp/Anti-CF/raw/main/utils/squad_evaluate.py","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"yisunlp","repoName":"Anti-CF","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timed_out":false,"not_analyzed":false,"symbols":[{"name":"normalize_answer","kind":"function","ident_start":986,"ident_end":1002,"extent_start":982,"extent_end":1501,"fully_qualified_name":"normalize_answer","ident_utf16":{"start":{"line_number":25,"utf16_col":4},"end":{"line_number":25,"utf16_col":20}},"extent_utf16":{"start":{"line_number":25,"utf16_col":0},"end":{"line_number":40,"utf16_col":66}}},{"name":"remove_articles","kind":"function","ident_start":1093,"ident_end":1108,"extent_start":1089,"extent_end":1168,"fully_qualified_name":"remove_articles","ident_utf16":{"start":{"line_number":27,"utf16_col":8},"end":{"line_number":27,"utf16_col":23}},"extent_utf16":{"start":{"line_number":27,"utf16_col":4},"end":{"line_number":28,"utf16_col":51}}},{"name":"white_space_fix","kind":"function","ident_start":1180,"ident_end":1195,"extent_start":1176,"extent_end":1241,"fully_qualified_name":"white_space_fix","ident_utf16":{"start":{"line_number":30,"utf16_col":8},"end":{"line_number":30,"utf16_col":23}},"extent_utf16":{"start":{"line_number":30,"utf16_col":4},"end":{"line_number":31,"utf16_col":37}}},{"name":"remove_punc","kind":"function","ident_start":1253,"ident_end":1264,"extent_start":1249,"extent_end":1378,"fully_qualified_name":"remove_punc","ident_utf16":{"start":{"line_number":33,"utf16_col":8},"end":{"line_number":33,"utf16_col":19}},"extent_utf16":{"start":{"line_number":33,"utf16_col":4},"end":{"line_number":35,"utf16_col":62}}},{"name":"lower","kind":"function","ident_start":1390,"ident_end":1395,"extent_start":1386,"extent_end":1431,"fully_qualified_name":"lower","ident_utf16":{"start":{"line_number":37,"utf16_col":8},"end":{"line_number":37,"utf16_col":13}},"extent_utf16":{"start":{"line_number":37,"utf16_col":4},"end":{"line_number":38,"utf16_col":27}}},{"name":"f1_score","kind":"function","ident_start":1511,"ident_end":1519,"extent_start":1507,"extent_end":2010,"fully_qualified_name":"f1_score","ident_utf16":{"start":{"line_number":43,"utf16_col":4},"end":{"line_number":43,"utf16_col":12}},"extent_utf16":{"start":{"line_number":43,"utf16_col":0},"end":{"line_number":53,"utf16_col":13}}},{"name":"exact_match_score","kind":"function","ident_start":2020,"ident_end":2037,"extent_start":2016,"extent_end":2141,"fully_qualified_name":"exact_match_score","ident_utf16":{"start":{"line_number":56,"utf16_col":4},"end":{"line_number":56,"utf16_col":21}},"extent_utf16":{"start":{"line_number":56,"utf16_col":0},"end":{"line_number":57,"utf16_col":75}}},{"name":"metric_max_over_ground_truths","kind":"function","ident_start":2151,"ident_end":2180,"extent_start":2147,"extent_end":2437,"fully_qualified_name":"metric_max_over_ground_truths","ident_utf16":{"start":{"line_number":60,"utf16_col":4},"end":{"line_number":60,"utf16_col":33}},"extent_utf16":{"start":{"line_number":60,"utf16_col":0},"end":{"line_number":65,"utf16_col":40}}},{"name":"evaluate_squad","kind":"function","ident_start":2447,"ident_end":2461,"extent_start":2443,"extent_end":3426,"fully_qualified_name":"evaluate_squad","ident_utf16":{"start":{"line_number":68,"utf16_col":4},"end":{"line_number":68,"utf16_col":18}},"extent_utf16":{"start":{"line_number":68,"utf16_col":0},"end":{"line_number":90,"utf16_col":0}}}]}},"copilotInfo":null,"copilotAccessAllowed":false,"csrf_tokens":{"/yisunlp/Anti-CF/branches":{"post":"EkNu1HZR-iT4UcgNdMZQ6aSucMejbdFtQRT3WwyJ7xq_lNqOr3QfUbjJ4umNtm9IxGVCGFBEelbwVLWzZV9yrw"},"/repos/preferences":{"post":"1-XLNv1LcXSAgUHBY4hG9Vj2ufxkqS1Qb_ZpqVZsGHp23x-3qGwrPXv4yE38rxUSr32AdnNDEV_cMMZM9B7v0Q"}}},"title":"Anti-CF/utils/squad_evaluate.py at main Â· yisunlp/Anti-CF"}